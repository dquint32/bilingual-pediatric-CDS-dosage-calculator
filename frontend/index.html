<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pediatric CDS Dosage Calculator</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="header-icon">
                    <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M22 12h-4l-3 9L9 3l-3 9H2"/>
                    </svg>
                </div>
                <div class="header-text">
                    <h1 id="app-title">Pediatric Clinical Decision Support</h1>
                    <p id="app-subtitle">Weight-Based Dosage Calculator</p>
                </div>
            </div>
            
            <!-- Language Toggle -->
            <div class="language-toggle">
                <button class="lang-btn active" data-lang="en">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"/>
                        <line x1="2" y1="12" x2="22" y2="12"/>
                        <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/>
                    </svg>
                    English
                </button>
                <button class="lang-btn" data-lang="es">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"/>
                        <line x1="2" y1="12" x2="22" y2="12"/>
                        <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/>
                    </svg>
                    Español
                </button>
            </div>
        </header>

        <!-- Purpose Section -->
        <section id="purpose-section" class="purpose-section">
            <div class="purpose-content">
                <h3 id="purpose-title">Purpose</h3>
                <p id="purpose-text">This prototype demonstrates how Clinical Decision Support (CDS) logic can reduce medication errors at the point of care by enforcing safety guardrails and providing bilingual instructions.</p>
            </div>
            <button class="close-btn" id="close-purpose">✕</button>
        </section>

        <!-- Calculator Form -->
        <div class="calculator-card">
            <form id="dosage-form">
                <div class="form-grid">
                    <!-- Weight Input -->
                    <div class="form-group">
                        <label for="weight-input" id="weight-label">Patient Weight</label>
                        <div class="weight-input-group">
                            <input 
                                type="number" 
                                id="weight-input" 
                                step="0.1" 
                                min="0.1" 
                                placeholder="0.0"
                                required
                            >
                            <select id="weight-unit">
                                <option value="kg">kg</option>
                                <option value="lbs">lbs</option>
                            </select>
                        </div>
                    </div>

                    <!-- Medication Selection -->
                    <div class="form-group">
                        <label for="medication-select" id="medication-label">Select Medication</label>
                        <select id="medication-select" required>
                            <option value="" id="select-placeholder">Choose medication...</option>
                            <option value="acetaminophen">Acetaminophen (Tylenol)</option>
                            <option value="ibuprofen">Ibuprofen (Advil)</option>
                            <option value="amoxicillin">Amoxicillin</option>
                        </select>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="button-group">
                    <button type="submit" class="btn btn-primary" id="calculate-btn">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="4" y="2" width="16" height="20" rx="2"/>
                            <line x1="8" y1="6" x2="16" y2="6"/>
                            <line x1="8" y1="10" x2="16" y2="10"/>
                            <line x1="8" y1="14" x2="12" y2="14"/>
                        </svg>
                        <span id="calculate-text">Calculate Safe Dosage</span>
                    </button>
                    <button type="button" class="btn btn-secondary" id="clear-btn">
                        <span id="clear-text">Clear</span>
                    </button>
                </div>
            </form>
        </div>

        <!-- Results Display -->
        <div id="results-container" class="results-container hidden">
            <!-- Results will be dynamically inserted here -->
        </div>

        <!-- Footer -->
        <footer class="footer">
            <p id="footer-disclaimer">Clinical Decision Support Prototype • For Educational Purposes Only</p>
            <p id="footer-warning">Always verify dosages with current medical guidelines and protocols</p>
        </footer>
    </div>

    <script src="app.js"></script>
</body>
</html>
